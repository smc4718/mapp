-- 시퀀스 삭제
DROP SEQUENCE USER_SEQ;
DROP SEQUENCE NOTICE_SEQ;
DROP SEQUENCE NOTICE_IMAGE_SEQ;
DROP SEQUENCE REFERRAL_SEQ;
DROP SEQUENCE ORDER_SEQ;
DROP SEQUENCE COMPENSATION_SEQ;
DROP SEQUENCE POINT_SEQ;

-- 시퀀스 생성
CREATE SEQUENCE USER_SEQ NOCACHE;
CREATE SEQUENCE NOTICE_SEQ NOCACHE;
CREATE SEQUENCE NOTICE_IMAGE_SEQ NOCACHE;
CREATE SEQUENCE REFERRAL_SEQ NOCACHE;
CREATE SEQUENCE ORDER_SEQ NOCACHE;
CREATE SEQUENCE COMPENSATION_SEQ NOCACHE;
CREATE SEQUENCE POINT_SEQ NOCACHE;

-- 테이블 삭제
DROP TABLE COMPENSATION_T;
DROP TABLE POINT_T;
DROP TABLE ORDER_T;
DROP TABLE NOTICE_IMAGE_T;
DROP TABLE NOTICE_T;
DROP TABLE REFERRAL_T;
DROP TABLE USER_T;

-- 회원 테이블
CREATE TABLE USER_T (
    USER_NO         NUMBER              NOT NULL,
    ID              VARCHAR2(20 BYTE)   NOT NULL UNIQUE,
    PW              VARCHAR2(64 BYTE)   NOT NULL,
    NAME            VARCHAR2(50 BYTE),
    GENDER          VARCHAR2(2 BYTE),
    EMAIL           VARCHAR2(50 BYTE),
    HP              VARCHAR2(20 BYTE),
    REFERRAL_CODE   VARCHAR2(20)        UNIQUE,
    ROLE            VARCHAR2(20),
    JOINED_AT       DATE,
    GRADE           VARCHAR2(10)        DEFAULT 'M1',
    MAPP_POINT      NUMBER              DEFAULT 0,
    CONSTRAINT PK_USER_T PRIMARY KEY (USER_NO)
);

-- 공지
CREATE TABLE NOTICE_T (
    NOTICE_NO       NUMBER              NOT NULL,
    USER_NO         NUMBER              NOT NULL,
    TITLE           VARCHAR2(500 BYTE)  NOT NULL,
    CONTENTS        CLOB,
    HIT             NUMBER              DEFAULT 0,
    CREATED_AT      VARCHAR2(30 BYTE),
    CONSTRAINT PK_NOTICE_T PRIMARY KEY (NOTICE_NO),
    CONSTRAINT FK_USER_T_TO_NOTICE_T_1 FOREIGN KEY (USER_NO) REFERENCES USER_T(USER_NO) ON DELETE CASCADE
);

-- 공지 이미지
CREATE TABLE NOTICE_IMAGE_T (
    NOTICE_NO           NUMBER              NOT NULL,
    IMAGE_PATH          VARCHAR2(100 BYTE),
    FILESYSTEM_NAME     VARCHAR2(100 BYTE),
    CONSTRAINT FK_NOTICE_T_TO_NOTICE_IMAGE_T_1 FOREIGN KEY (NOTICE_NO) REFERENCES NOTICE_T(NOTICE_NO) ON DELETE CASCADE
);

-- 추천 관계
CREATE TABLE REFERRAL_T (
    REFERRAL_NO     NUMBER              PRIMARY KEY,
    REFERRER_NO     NUMBER              NOT NULL,  -- 추천인
    REFERRED_NO     NUMBER              NOT NULL,  -- 추천받은 사람
    CREATED_AT      DATE DEFAULT SYSDATE,
    CONSTRAINT FK_REFERRAL_REFERRER FOREIGN KEY (REFERRER_NO) REFERENCES USER_T(USER_NO) ON DELETE CASCADE,
    CONSTRAINT FK_REFERRAL_REFERRED FOREIGN KEY (REFERRED_NO) REFERENCES USER_T(USER_NO) ON DELETE CASCADE
);

-- 주문
CREATE TABLE ORDER_T (
    ORDER_NO        NUMBER PRIMARY KEY,
    BUYER_USER_NO   NUMBER NOT NULL,                         -- USER_T.USER_NO
    PRODUCT_NAME    VARCHAR2(100 BYTE),
    AMOUNT          NUMBER NOT NULL,
    USED_COUPON_YN  CHAR(1) DEFAULT 'N',
    ORDER_DATE      DATE DEFAULT SYSDATE,
    CONSTRAINT FK_ORDER_BUYER FOREIGN KEY (BUYER_USER_NO) REFERENCES USER_T(USER_NO) ON DELETE CASCADE
);

-- 수당
CREATE TABLE COMPENSATION_T (
    COMPENSATION_NO     NUMBER PRIMARY KEY,
    RECEIVER_USER_NO    NUMBER NOT NULL,                         -- 수당 받은 사람
    ORDER_NO            NUMBER NOT NULL,
    GENERATION          NUMBER,
    RATE                NUMBER,
    AMOUNT              NUMBER,
    PAID_AT             DATE DEFAULT SYSDATE,
    CONSTRAINT FK_COMP_USER FOREIGN KEY (RECEIVER_USER_NO) REFERENCES USER_T(USER_NO),
    CONSTRAINT FK_COMP_ORDER FOREIGN KEY (ORDER_NO) REFERENCES ORDER_T(ORDER_NO)
);

-- 포인트
CREATE TABLE POINT_T (
    POINT_NO        NUMBER PRIMARY KEY,
    USER_NO         NUMBER NOT NULL,
    ORDER_NO        NUMBER NOT NULL,
    AMOUNT          NUMBER,
    REASON          VARCHAR2(100),
    CREATED_AT      DATE DEFAULT SYSDATE,
    CONSTRAINT FK_POINT_USER FOREIGN KEY (USER_NO) REFERENCES USER_T(USER_NO),
    CONSTRAINT FK_POINT_ORDER FOREIGN KEY (ORDER_NO) REFERENCES ORDER_T(ORDER_NO)
);


--- INSERT ---

-- 회원
INSERT INTO USER_T VALUES(1, 'a', STANDARD_HASH('1', 'SHA256'), 'MAPP마스터', 'M', 'mapp@naver.com', '01011112222', 'ABCDEFGH', 'ADMIN', TO_DATE('250207', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(2, 'b', STANDARD_HASH('2', 'SHA256'), 'A회원', 'F', 'member@naver.com', '01022223333', 'IJKLMNOP', 'USER', TO_DATE('250309', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(3, 'user3', STANDARD_HASH('pw3', 'SHA256'), '회원3', 'M', 'user3@naver.com', '01010030003', 'RCODE03', 'USER', TO_DATE('250301', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(4, 'user4', STANDARD_HASH('pw4', 'SHA256'), '회원4', 'F', 'user4@naver.com', '01010040004', 'RCODE04', 'USER', TO_DATE('250302', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(5, 'user5', STANDARD_HASH('pw5', 'SHA256'), '회원5', 'M', 'user5@naver.com', '01010050005', 'RCODE05', 'USER', TO_DATE('250303', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(6, 'user6', STANDARD_HASH('pw6', 'SHA256'), '회원6', 'F', 'user6@naver.com', '01010060006', 'RCODE06', 'USER', TO_DATE('250304', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(7, 'user7', STANDARD_HASH('pw7', 'SHA256'), '회원7', 'M', 'user7@naver.com', '01010070007', 'RCODE07', 'USER', TO_DATE('250305', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(8, 'user8', STANDARD_HASH('pw8', 'SHA256'), '회원8', 'F', 'user8@naver.com', '01010080008', 'RCODE08', 'USER', TO_DATE('250306', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(9, 'user9', STANDARD_HASH('pw9', 'SHA256'), '회원9', 'M', 'user9@naver.com', '01010090009', 'RCODE09', 'USER', TO_DATE('250307', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(10, 'user10', STANDARD_HASH('pw10', 'SHA256'), '회원10', 'F', 'user10@naver.com', '01010100010', 'RCODE10', 'USER', TO_DATE('250308', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(11, 'user11', STANDARD_HASH('pw11', 'SHA256'), '회원11', 'M', 'user11@naver.com', '01010110011', 'RCODE11', 'USER', TO_DATE('250309', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(12, 'user12', STANDARD_HASH('pw12', 'SHA256'), '회원12', 'F', 'user12@naver.com', '01010120012', 'RCODE12', 'USER', TO_DATE('250310', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(13, 'user13', STANDARD_HASH('pw13', 'SHA256'), '회원13', 'M', 'user13@naver.com', '01010130013', 'RCODE13', 'USER', TO_DATE('250311', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(14, 'user14', STANDARD_HASH('pw14', 'SHA256'), '회원14', 'F', 'user14@naver.com', '01010140014', 'RCODE14', 'USER', TO_DATE('250312', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(15, 'user15', STANDARD_HASH('pw15', 'SHA256'), '회원15', 'M', 'user15@naver.com', '01010150015', 'RCODE15', 'USER', TO_DATE('250313', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(16, 'user16', STANDARD_HASH('pw16', 'SHA256'), '회원16', 'F', 'user16@naver.com', '01010160016', 'RCODE16', 'USER', TO_DATE('250314', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(17, 'user17', STANDARD_HASH('pw17', 'SHA256'), '회원17', 'M', 'user17@naver.com', '01010170017', 'RCODE17', 'USER', TO_DATE('250315', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(18, 'user18', STANDARD_HASH('pw18', 'SHA256'), '회원18', 'F', 'user18@naver.com', '01010180018', 'RCODE18', 'USER', TO_DATE('250316', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(19, 'user19', STANDARD_HASH('pw19', 'SHA256'), '회원19', 'M', 'user19@naver.com', '01010190019', 'RCODE19', 'USER', TO_DATE('250317', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(20, 'user20', STANDARD_HASH('pw20', 'SHA256'), '회원20', 'F', 'user20@naver.com', '01010200020', 'RCODE20', 'USER', TO_DATE('250318', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(21, 'user21', STANDARD_HASH('pw21', 'SHA256'), '회원21', 'M', 'user21@naver.com', '01010210021', 'RCODE21', 'USER', TO_DATE('250319', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES(22, 'user22', STANDARD_HASH('pw22', 'SHA256'), '회원22', 'F', 'user22@naver.com', '01010220022', 'RCODE22', 'USER', TO_DATE('250320', 'YYMMDD'), 'M1', 0);

-- 추천 관계
-- user1이 추천한 유저들 (루트 노드 1)
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 2, SYSDATE);  -- 1 → 2
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 5, SYSDATE);  -- 1 → 5
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 2, 9, SYSDATE);  -- 2 → 9

-- user3이 추천한 유저들 (루트 노드 2)
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 3, 4, SYSDATE);  -- 3 → 4
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 3, 6, SYSDATE);  -- 3 → 6
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 4, 8, SYSDATE);  -- 4 → 8

-- user6이 추천한 유저들 (루트 노드 3)
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 6, 10, SYSDATE); -- 6 → 10
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 6, 11, SYSDATE); -- 6 → 11

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 10, 13, SYSDATE); -- 10 → 13
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 11, 14, SYSDATE); -- 11 → 14
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 5, 7, SYSDATE);  -- 5 → 7
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 7, 15, SYSDATE); -- 7 → 15
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 8, 12, SYSDATE); -- 8 → 12
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 13, 16, SYSDATE); -- 13 → 16
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 14, 17, SYSDATE); -- 14 → 17
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 15, 18, SYSDATE); -- 15 → 18
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 12, 19, SYSDATE); -- 12 → 19
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 16, 20, SYSDATE); -- 16 → 20
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 17, 21, SYSDATE); -- 17 → 21
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 18, 22, SYSDATE); -- 18 → 22

-- user1이 직접 추천한 5명 (user23~27) → user1: M2
INSERT INTO USER_T VALUES (23, 'user23', STANDARD_HASH('pw23', 'SHA256'), '직접1', 'M', 'a23@naver.com', '01011110001', 'RC23', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (24, 'user24', STANDARD_HASH('pw24', 'SHA256'), '직접2', 'F', 'a24@naver.com', '01011110002', 'RC24', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (25, 'user25', STANDARD_HASH('pw25', 'SHA256'), '직접3', 'M', 'a25@naver.com', '01011110003', 'RC25', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (26, 'user26', STANDARD_HASH('pw26', 'SHA256'), '직접4', 'F', 'a26@naver.com', '01011110004', 'RC26', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (27, 'user27', STANDARD_HASH('pw27', 'SHA256'), '직접5', 'M', 'a27@naver.com', '01011110005', 'RC27', 'USER', SYSDATE, 'M1', 0);

-- REFERRAL: user1 → user23~27
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 23, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 24, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 25, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 26, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 27, SYSDATE);

-- 4세대 유저들 (user28 ~ user42)
INSERT INTO USER_T VALUES (28, 'user28', STANDARD_HASH('pw28', 'SHA256'), '회원28', 'M', 'u28@naver.com', '01010280028', 'RCODE28', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (29, 'user29', STANDARD_HASH('pw29', 'SHA256'), '회원29', 'F', 'u29@naver.com', '01010290029', 'RCODE29', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (30, 'user30', STANDARD_HASH('pw30', 'SHA256'), '회원30', 'M', 'u30@naver.com', '01010300030', 'RCODE30', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (31, 'user31', STANDARD_HASH('pw31', 'SHA256'), '회원31', 'F', 'u31@naver.com', '01010310031', 'RCODE31', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (32, 'user32', STANDARD_HASH('pw32', 'SHA256'), '회원32', 'M', 'u32@naver.com', '01010320032', 'RCODE32', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (33, 'user33', STANDARD_HASH('pw33', 'SHA256'), '회원33', 'F', 'u33@naver.com', '01010330033', 'RCODE33', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (34, 'user34', STANDARD_HASH('pw34', 'SHA256'), '회원34', 'M', 'u34@naver.com', '01010340034', 'RCODE34', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (35, 'user35', STANDARD_HASH('pw35', 'SHA256'), '회원35', 'F', 'u35@naver.com', '01010350035', 'RCODE35', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (36, 'user36', STANDARD_HASH('pw36', 'SHA256'), '회원36', 'M', 'u36@naver.com', '01010360036', 'RCODE36', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (37, 'user37', STANDARD_HASH('pw37', 'SHA256'), '회원37', 'F', 'u37@naver.com', '01010370037', 'RCODE37', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (38, 'user38', STANDARD_HASH('pw38', 'SHA256'), '회원38', 'M', 'u38@naver.com', '01010380038', 'RCODE38', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (39, 'user39', STANDARD_HASH('pw39', 'SHA256'), '회원39', 'F', 'u39@naver.com', '01010390039', 'RCODE39', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (40, 'user40', STANDARD_HASH('pw40', 'SHA256'), '회원40', 'M', 'u40@naver.com', '01010400040', 'RCODE40', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (41, 'user41', STANDARD_HASH('pw41', 'SHA256'), '회원41', 'F', 'u41@naver.com', '01010410041', 'RCODE41', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (42, 'user42', STANDARD_HASH('pw42', 'SHA256'), '회원42', 'M', 'u42@naver.com', '01010420042', 'RCODE42', 'USER', TO_DATE('250321', 'YYMMDD'), 'M1', 0);

INSERT INTO USER_T VALUES (43, 'user43', STANDARD_HASH('pw43', 'SHA256'), '회원43', 'M', 'u43@naver.com', '010100043', 'RCODE43', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (44, 'user44', STANDARD_HASH('pw44', 'SHA256'), '회원44', 'F', 'u44@naver.com', '010100044', 'RCODE44', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (45, 'user45', STANDARD_HASH('pw45', 'SHA256'), '회원45', 'M', 'u45@naver.com', '010100045', 'RCODE45', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (46, 'user46', STANDARD_HASH('pw46', 'SHA256'), '회원46', 'F', 'u46@naver.com', '010100046', 'RCODE46', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (47, 'user47', STANDARD_HASH('pw47', 'SHA256'), '회원47', 'M', 'u47@naver.com', '010100047', 'RCODE47', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (48, 'user48', STANDARD_HASH('pw48', 'SHA256'), '회원48', 'F', 'u48@naver.com', '010100048', 'RCODE48', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (49, 'user49', STANDARD_HASH('pw49', 'SHA256'), '회원49', 'M', 'u49@naver.com', '010100049', 'RCODE49', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (50, 'user50', STANDARD_HASH('pw50', 'SHA256'), '회원50', 'F', 'u50@naver.com', '010100050', 'RCODE50', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (51, 'user51', STANDARD_HASH('pw51', 'SHA256'), '회원51', 'M', 'u51@naver.com', '010100051', 'RCODE51', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (52, 'user52', STANDARD_HASH('pw52', 'SHA256'), '회원52', 'F', 'u52@naver.com', '010100052', 'RCODE52', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (53, 'user53', STANDARD_HASH('pw53', 'SHA256'), '회원53', 'M', 'u53@naver.com', '010100053', 'RCODE53', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (54, 'user54', STANDARD_HASH('pw54', 'SHA256'), '회원54', 'F', 'u54@naver.com', '010100054', 'RCODE54', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (55, 'user55', STANDARD_HASH('pw55', 'SHA256'), '회원55', 'M', 'u55@naver.com', '010100055', 'RCODE55', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (56, 'user56', STANDARD_HASH('pw56', 'SHA256'), '회원56', 'F', 'u56@naver.com', '010100056', 'RCODE56', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (57, 'user57', STANDARD_HASH('pw57', 'SHA256'), '회원57', 'M', 'u57@naver.com', '010100057', 'RCODE57', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (58, 'user58', STANDARD_HASH('pw58', 'SHA256'), '회원58', 'F', 'u58@naver.com', '010100058', 'RCODE58', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (59, 'user59', STANDARD_HASH('pw59', 'SHA256'), '회원59', 'M', 'u59@naver.com', '010100059', 'RCODE59', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (60, 'user60', STANDARD_HASH('pw60', 'SHA256'), '회원60', 'F', 'u60@naver.com', '010100060', 'RCODE60', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (61, 'user61', STANDARD_HASH('pw61', 'SHA256'), '회원61', 'M', 'u61@naver.com', '010100061', 'RCODE61', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (62, 'user62', STANDARD_HASH('pw62', 'SHA256'), '회원62', 'F', 'u62@naver.com', '010100062', 'RCODE62', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (63, 'user63', STANDARD_HASH('pw63', 'SHA256'), '회원63', 'M', 'u63@naver.com', '010100063', 'RCODE63', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (64, 'user64', STANDARD_HASH('pw64', 'SHA256'), '회원64', 'F', 'u64@naver.com', '010100064', 'RCODE64', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (65, 'user65', STANDARD_HASH('pw65', 'SHA256'), '회원65', 'M', 'u65@naver.com', '010100065', 'RCODE65', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (66, 'user66', STANDARD_HASH('pw66', 'SHA256'), '회원66', 'F', 'u66@naver.com', '010100066', 'RCODE66', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);
INSERT INTO USER_T VALUES (67, 'user67', STANDARD_HASH('pw67', 'SHA256'), '회원67', 'M', 'u67@naver.com', '010100067', 'RCODE67', 'USER', TO_DATE('250322', 'YYMMDD'), 'M1', 0);

-- REFERRAL_T INSERT (user28 ~ user42 → 각 3명씩 추천)
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 28, 43, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 28, 44, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 28, 45, SYSDATE);

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 29, 46, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 29, 47, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 29, 48, SYSDATE);

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 30, 49, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 30, 50, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 30, 51, SYSDATE);

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 31, 52, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 31, 53, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 31, 54, SYSDATE);

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 32, 55, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 32, 56, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 32, 57, SYSDATE);

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 33, 58, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 33, 59, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 33, 60, SYSDATE);

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 34, 61, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 34, 62, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 34, 63, SYSDATE);

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 35, 64, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 35, 65, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 35, 66, SYSDATE);

INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 36, 67, SYSDATE);

-- user1의 직접 추천자 5명 (user101~105)
INSERT INTO USER_T VALUES (101, 'user101', STANDARD_HASH('pw101', 'SHA256'), '직접추천1', 'M', 'a101@naver.com', '0101010101', 'RC101', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (102, 'user102', STANDARD_HASH('pw102', 'SHA256'), '직접추천2', 'F', 'a102@naver.com', '0101010102', 'RC102', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (103, 'user103', STANDARD_HASH('pw103', 'SHA256'), '직접추천3', 'M', 'a103@naver.com', '0101010103', 'RC103', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (104, 'user104', STANDARD_HASH('pw104', 'SHA256'), '직접추천4', 'F', 'a104@naver.com', '0101010104', 'RC104', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (105, 'user105', STANDARD_HASH('pw105', 'SHA256'), '직접추천5', 'M', 'a105@naver.com', '0101010105', 'RC105', 'USER', SYSDATE, 'M1', 0);

-- REFERRAL (user1 → 직접 추천)
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 101, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 102, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 103, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 104, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 1, 105, SYSDATE);

-- user101이 추천한 3명 (user201~203)
INSERT INTO USER_T VALUES (201, 'user201', STANDARD_HASH('pw201', 'SHA256'), '하위1-1', 'M', 'u201@naver.com', '0101020201', 'RC201', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (202, 'user202', STANDARD_HASH('pw202', 'SHA256'), '하위1-2', 'F', 'u202@naver.com', '0101020202', 'RC202', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (203, 'user203', STANDARD_HASH('pw203', 'SHA256'), '하위1-3', 'M', 'u203@naver.com', '0101020203', 'RC203', 'USER', SYSDATE, 'M1', 0);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 101, 201, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 101, 202, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 101, 203, SYSDATE);

-- user102가 추천한 3명 (user204~206)
INSERT INTO USER_T VALUES (204, 'user204', STANDARD_HASH('pw204', 'SHA256'), '하위2-1', 'F', 'u204@naver.com', '0101020204', 'RC204', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (205, 'user205', STANDARD_HASH('pw205', 'SHA256'), '하위2-2', 'M', 'u205@naver.com', '0101020205', 'RC205', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (206, 'user206', STANDARD_HASH('pw206', 'SHA256'), '하위2-3', 'F', 'u206@naver.com', '0101020206', 'RC206', 'USER', SYSDATE, 'M1', 0);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 102, 204, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 102, 205, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 102, 206, SYSDATE);

-- user103이 추천한 3명 (user207~209)
INSERT INTO USER_T VALUES (207, 'user207', STANDARD_HASH('pw207', 'SHA256'), '하위3-1', 'M', 'u207@naver.com', '0101020207', 'RC207', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (208, 'user208', STANDARD_HASH('pw208', 'SHA256'), '하위3-2', 'F', 'u208@naver.com', '0101020208', 'RC208', 'USER', SYSDATE, 'M1', 0);
INSERT INTO USER_T VALUES (209, 'user209', STANDARD_HASH('pw209', 'SHA256'), '하위3-3', 'M', 'u209@naver.com', '0101020209', 'RC209', 'USER', SYSDATE, 'M1', 0);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 103, 207, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 103, 208, SYSDATE);
INSERT INTO REFERRAL_T VALUES (REFERRAL_SEQ.NEXTVAL, 103, 209, SYSDATE);


-- 테스트용 주문 데이터
INSERT INTO ORDER_T VALUES (ORDER_SEQ.NEXTVAL, 201, '비타민 패키지', 1000000, 'N', SYSDATE);
INSERT INTO ORDER_T VALUES (ORDER_SEQ.NEXTVAL, 202, '단백질 쉐이크', 800000, 'Y', SYSDATE);


-- USER_T가 존재할 경우, 최대값 + 1 을 기준으로 시퀀스를 재생성 (DB를 자주 초기화하며 확인해서, USER_NO 중복값 에러 생기지 않게 넣어둠)
DECLARE
    v_max NUMBER;
BEGIN
    SELECT NVL(MAX(USER_NO), 0) + 1 INTO v_max FROM USER_T;
    
    EXECUTE IMMEDIATE 'DROP SEQUENCE USER_SEQ';
    EXECUTE IMMEDIATE 'CREATE SEQUENCE USER_SEQ START WITH ' || v_max || ' NOCACHE';
END;

COMMIT;